如何进行安全的远程访问/控制以及SSL VPN 
rmtsvc 2.5.2 build20070110及以上版本才支持本文所将功能

阅读本文档要求你对SSL要有基本的了解，在这里我就不普及SSL的基本知识了:)
rmtsvc是一款基于web的远程访问/控制管理工具，你可以通过IE直接对远程主机或主机上的服务进行管理控制。
既然通过web，那么任何人都有可能通过IE进行访问，这样存在的安全性问题
下面简单说一下可能遇到的安全问题及rmtsvc的解决办法
Q: 未授权访问
A: rmtsvc支持多帐号权限配置，仅仅具有授权的人才能访问rmtsvc。配置帐号密码时尽量不要太简单
Q: 如果防止帐号密码暴力破解
A: rmtsvc的登陆页面具有数字验证码，每次刷新页面数字验证码随机生成，防止暴力破解
Q: 如何防止网络窃听到帐号密码信息以及其他敏感信息
A: rmtsvc支持SSL，数据以加密方式传输，防止窃听，下面将着重讲解rmtsvc的SSL功能以及使用

rmtsvc的ini配置中的支持一个ssls命令，此命令用来设置SSL的证书和CRL信息，具体命令用法后面会详细说明。
Q: 如何启用SSL加密方式访问rmtsvc
ini配置webs命令中的 ssl_enabled参数等于"true", 例如 webs port=7779 ssl_enabled=true
这样就启用了rmtsvc的SSL加密方式，用户必须在通过IE输入下列URL访问 https://host:port
看出和普通不同了吧，输入的是https

启用SSL加密方式后，所有针对rmtsvc的和IE的交互数据是以SSL机密方式传输的，任何人无法窃听到交互数据
打开IE访问，IE会弹出一个页面显示改站点的证书不被信任是否继续，选择继续即可
通过该页面还可以查看站点的证书，这个证书是rmtsvc的内置.

Q: 如何使用自己的证书，不用rmtsvc内置的证书
rmtsvc内置了一个自签名证书，当然你也可以制作自己的证书，制作证书的过程见证书制作步骤文档。
证书制作好后，在配置文件中加入ssls配置命令，配置范例如下:
ssls mycert=server.pem mykey=server.key keypwd=12345

通过上述配置你可以防止有人网络窃听你的交互数据，极大的保证了rmtsvc的访问安全问题
但这还有一个问题，就是仅仅数据交互是加密的，但任何人还是可以访问你的rmtsvc，因为它不验证证书的真伪
Q: 如何验证客户端证书,限制那些仅仅具有我颁发的证书的用户才能访问
A: 通过配置webs命令中的ssl_verify=true参数，启用SSL客户端证书验证功能
如果配置了启用客户端验证功能，则ssls命令中必须配置caroot=<CA根证书>参数
如果不配置CA根证书，则即使配置了ssl_verify=true也不启用验证
caroot --- 输入你的CA的根证书，即你制作证书的根证书。参见证书制作步骤文档第一步说明
配置范例如下: ssls mycert=server.pem mykey=server.key keypwd=12345 caroot=cacert.pem
参照证书制作步骤文档，制作一批客户端证书，转换为pkcs12格式，发放给允许访问的用户
用户在自己的机器上打开IE，安装证书。安装过程如下:
打开IE――〉工具――〉inernet选项――〉内容――〉证书――〉导入
然后按照向导提示，选择.p12证书文件，其他按照默认即可完成客户端证书的安装。
然后打开浏览器访问rmtsvc，如果用户安装了多个证书IE将弹出让用户选择证书的页面，选择一个证书即可

但这时又出现一个问题，即如果某个人具有我发放的证书，但是后来发现证书被别人偷了或者我不想让他访问了怎么办?
Q: 如何收回撤销证书
A: 参照证书制作步骤文档,撤销一个证书生成list.crl文件
通过配置ssl命令中的cacrl=<CA作废证书列表>参数，启用CRL，此参数指明所有已作废的证书列表文件
要启用CRL必须配置启用证书验证参数和CA根证书参数
配置范例如下: ssls mycert=server.pem mykey=server.key keypwd=12345 caroot=cacert.pem cacrl=list.crl
这时假如某个用户用这个撤销的证书访问，IE会提示”该站点的安全证书已作废“，并不可访问

================================================================================================

rmtsvc不仅可以进行安全访问控制，其实rmtsvc内置的vidc也具有此功能，即能对任何映射的服务转换为SSL加密服务进行安全访问控制
例如通过vidc将内网的一个web应用(譬如 OA办公服务)映射到公网上，让外地的员工也可访问，这时就暴露出安全性问题，因为内网的服务
大多数口令是比较简单的，这时就可以通过将映射转换为SSL加密服务同时开启SSL验证功能进行授权访问，保证内网应用服务的安全
说到这你该明白了，其实这就是SSL VPN的原理

如果利用vidc搭建SSL VPN，安全访问内网服务
利用vidc的本地端口映射或远程端口映射将内网应用映射到具有公网IP的机器上
并指定映射转换为SSL加密服务，然后选择SSL需要进行客户端证书验证即可
这样任何访问此应用服务的用户必须具有你发放的证书，关于如何制作证书以及管理证书见上面描述

===================================================================================================

设置ssl证书和CRL信息
命令格式: 
	ssls [mycert=<用户SSL证书文件>] [mykey=<用户证书私钥文件>] [keypwd=<用户私钥密码>] [caroot=<CA根证书>] [cacrl=<CA作废证书列表>]
此参数支持的证书文件格式为PEM格式

此ssls命令配置的证书信息将应用于所有rmtsvc&vidc启动的支持SSL加密服务，不管是rmtsvc的管理服务还是vidc映射的服务
因此你只需做一个服务端证书即可

证书制作程序包可从我的网站下载 http://yycnet.yeah.net